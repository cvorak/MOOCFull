{"version":3,"sources":["components/PersonForm.js","components/Person.js","components/Persons.js","components/Filter.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["PersonForm","props","newName","newNumber","handleInputNameChange","handleInputNumberChange","handleClick","value","onChange","type","onClick","Person","person","handleDelete","name","number","Persons","persons","filterText","handleDeleteOf","filter","p","toLowerCase","includes","map","key","id","Filter","text","handleChange","Notification","message","className","substring","baseUrl","axios","get","then","res","data","newPerson","post","delete","put","App","useState","setPersons","setNewName","setNewNumber","setFilterText","notificationMessage","setNotificationMessage","useEffect","personService","returnedPersons","event","target","preventDefault","newPersonObj","window","confirm","find","updatedPerson","catch","err","setTimeout","n","returnedPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1b1ca108.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    const {\r\n      newName,\r\n      newNumber,\r\n      handleInputNameChange,\r\n      handleInputNumberChange,\r\n      handleClick\r\n    } = props\r\n  \r\n    return (\r\n      <form>\r\n        <div>\r\n          name: <input\r\n            value={newName}\r\n            onChange={handleInputNameChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          number: <input\r\n            value={newNumber}\r\n            onChange={handleInputNumberChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button\r\n            type=\"submit\"\r\n            onClick={handleClick}\r\n          >\r\n            add\r\n            </button>\r\n        </div>\r\n      </form>\r\n    )\r\n  }\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({ person, handleDelete }) => {\r\n    return (\r\n      <li>\r\n        {person.name} {person.number}\r\n        <button onClick={handleDelete}>delete</button>\r\n      </li>\r\n    )\r\n  }\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({ persons, filterText, handleDeleteOf }) => {\r\n  const rows = () => persons\r\n    .filter(p => p.name.toLowerCase().includes(filterText))\r\n    .map(p => <Person key={p.id} person={p} handleDelete={() => handleDeleteOf(p.id)} />)\r\n\r\n  return (\r\n    <ul>\r\n      {rows()}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = ({ text, handleChange }) => {\r\n    return (\r\n      <div>\r\n        filter shown with <input\r\n          value={text}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Notification = ({message}) => {\r\n        if (message === null) {\r\n        return null;\r\n    }\r\n    return (\r\n        <div className={message.substring(0, 3) === 'The' ? 'notification error' : 'notification'} >\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => axios\r\n    .get(baseUrl)\r\n    .then(res => res.data)\r\n\r\nconst create = (newPerson) => axios\r\n    .post(baseUrl, newPerson)\r\n    .then(res => res.data)\r\n\r\nconst remove = (id) => axios\r\n    .delete(`${baseUrl}/${id}`)\r\n\r\nconst update = (id, newPerson) => axios\r\n    .put(`${baseUrl}/${id}`, newPerson)\r\n    .then(res => res.data)\r\n\r\nexport default { getAll, create, remove, update }","import React, { useState, useEffect } from 'react'\r\nimport './App.css'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Filter from './components/Filter'\r\nimport Notification from './components/Notification'\r\nimport personService from './services/persons'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [filterText, setFilterText] = useState('')\r\n  const [notificationMessage, setNotificationMessage] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(returnedPersons => setPersons(returnedPersons))\r\n  }, [])\r\n\r\n  const handleClick = (event) => {\r\n    event.preventDefault()\r\n    const newPersonObj = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    if (persons.map(p => p.name).includes(newName)) {\r\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with new one?`)) {\r\n        const id = persons.find(p => p.name === newName).id\r\n        personService\r\n          .update(id, newPersonObj)\r\n          .then(updatedPerson => {\r\n            setPersons(persons.map(p => p.id === id ? updatedPerson : p ))\r\n            setNewName('')\r\n            setNewNumber('')\r\n          }).catch(err => {\r\n          setNotificationMessage(`The note ${newPersonObj.name} does not exist on the server`)\r\n          setTimeout(() => setNotificationMessage(null), 5000)\r\n          setPersons(persons.filter(n => n.id !== id))\r\n          })\r\n      }\r\n\r\n    } else {\r\n      personService.create(newPersonObj)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          setNotificationMessage(`Added ${returnedPerson.name}`)\r\n          setTimeout(() => setNotificationMessage(null), 3000)\r\n        })\r\n    }\r\n  }\r\n\r\n  const handleInputNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleInputNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    setFilterText(event.target.value)\r\n  }\r\n\r\n  const handleDeleteOf = (id) => {\r\n    if (!window.confirm(`Delete ${persons.find(p => p.id === id).name}`))\r\n      return\r\n\r\n    personService\r\n      .remove(id)\r\n      .then(setPersons(persons.filter(p => p.id !== id)))\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notificationMessage} />\r\n      <Filter text={filterText} handleChange={handleFilterChange} />\r\n      <PersonForm\r\n        newName={newName}\r\n        newNumber={newNumber}\r\n        handleInputNameChange={handleInputNameChange}\r\n        handleInputNumberChange={handleInputNumberChange}\r\n        handleClick={handleClick}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Persons\r\n        filterText={filterText}\r\n        persons={persons}\r\n        handleDeleteOf={handleDeleteOf}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}